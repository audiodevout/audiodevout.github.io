<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Atharva Gupta Portfolio</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@glidejs/glide/dist/css/glide.core.min.css">
  <style>
    body {
      font-family: 'Inter', sans-serif;
    }
  </style>
</head>
<body class="bg-black text-white">
  <div class="max-w-5xl mx-auto p-8">
    <!-- Header -->
    <header class="mb-12">
      <h1 class="text-4xl md:text-6xl font-bold">Atharva Gupta</h1>
      <p class="mt-2 text-xl md:text-2xl text-gray-400">
        new media artist, sound designer, educator and visual artist
      </p>
      <p class="mt-1 text-md text-gray-500">first year student MADTech FMI</p>
    </header>

    <!-- Image Uploader -->
    <div class="mb-8">
      <label for="folderInput" class="block mb-2 font-medium">Choose images:</label>
      <input type="file" id="folderInput" webkitdirectory multiple accept="image/*" class="text-white bg-gray-800 border border-gray-600 rounded px-4 py-2">
    </div>

    <!-- Carousel -->
    <div class="glide mb-8 hidden" id="carouselContainer">
      <div class="glide__track" data-glide-el="track">
        <ul class="glide__slides" id="carouselSlides">
          <!-- Slides get injected here -->
        </ul>
      </div>
      <div class="glide__arrows" data-glide-el="controls">
        <button class="glide__arrow glide__arrow--left" data-glide-dir="<">‹</button>
        <button class="glide__arrow glide__arrow--right" data-glide-dir=">">›</button>
      </div>
    </div>

    <!-- Gallery -->
    <div id="gallery" class="grid grid-cols-1 md:grid-cols-3 gap-4">
      <!-- Images also shown here -->
    </div>
  </div>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/@glidejs/glide"></script>
  <script>
    const folderInput = document.getElementById('folderInput');
    const gallery = document.getElementById('gallery');
    const carouselContainer = document.getElementById('carouselContainer');
    const carouselSlides = document.getElementById('carouselSlides');

    folderInput.addEventListener('change', (event) => {
      const files = Array.from(event.target.files);
      const imageFiles = files.filter(file => file.type.startsWith('image/'));

      if (imageFiles.length > 0) {
        gallery.innerHTML = '';
        carouselSlides.innerHTML = '';
        carouselContainer.classList.remove('hidden');

        imageFiles.forEach((file, index) => {
          const reader = new FileReader();
          reader.onload = function(e) {
            const imgURL = e.target.result;

            // Add to gallery
            const imgEl = document.createElement('img');
            imgEl.src = imgURL;
            imgEl.className = 'w-full h-64 object-cover rounded shadow';
            gallery.appendChild(imgEl);

            // Add to carousel
            const slide = document.createElement('li');
            slide.className = 'glide__slide';
            slide.innerHTML = `<img src="${imgURL}" class="w-full h-[400px] object-contain rounded">`;
            carouselSlides.appendChild(slide);
          };
          reader.readAsDataURL(file);
        });

        // Initialize Glide.js after short delay
        setTimeout(() => {
          new Glide('.glide', {
            type: 'carousel',
            autoplay: 3000,
            hoverpause: true,
            perView: 1
          }).mount();
        }, 100);
      }
    });
  </script>
</body>
</html>
